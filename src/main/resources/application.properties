# TrueEquity Data Ingestion Service Configuration

# Application
spring.application.name=trueequity-ingestion-service
server.port=8080

# Database Configuration
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:trueequity_market_data}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASSWORD:Vivek@025!}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Connection Pool (Fastest connection pool)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.pool-name=TrueEquityPool

# Connection Security
spring.datasource.hikari.connection-test-query=SELECT 1
# Must be true so each insert/update commits; otherwise stock_financials (and other tables) stay empty
spring.datasource.hikari.auto-commit=true

# Disable Spring Boot Banner
spring.main.banner-mode=off

# Disable all Spring Boot logging - we use System.out.println
logging.level.root=OFF
logging.level.org.springframework=OFF
logging.level.org.hibernate=OFF
logging.level.com.zaxxer=OFF
logging.level.org.apache=OFF
logging.level.org.hibernate.orm=OFF

# API Provider Configuration
app.data-provider.primary=hybrid
app.data-provider.fallback=fmp
# Financial Modeling Prep API (250 requests/day free tier)
app.data-provider.fmp.api-key=Zv4o5jRWPlf6SeCAMqjxQPpBwtqXcFWr

# Rate Limiting
app.rate-limit.yahoo-finance=2000
app.rate-limit.fmp=250
# Min ms between FMP calls (about 4 per second to be safe)
app.data-provider.fmp.call-interval-ms=250

# Retry Configuration
app.retry.max-attempts=3
app.retry.delay-ms=60000

# Scheduler Configuration
app.scheduler.price-update-interval=15
app.scheduler.fundamentals-update-interval=1440
app.scheduler.score-recalculation-interval=60

# Stock List (NASDAQ 100 - Top 50). Use Yahoo Finance ticker symbols only (e.g. ADBE not ADOBE, NXPI not MNXPI).
app.stocks.list=AAPL,MSFT,GOOGL,AMZN,NVDA,META,TSLA,AVGO,COST,PEP,CMCSA,ADBE,NFLX,AMD,INTC,TXN,AMGN,ISRG,AMAT,SBUX,INTU,VRTX,REGN,ADI,PYPL,MU,CSX,KLAC,SNPS,CDNS,MRVL,FTNT,NXPI,CTAS,PAYX,FAST,TEAM,ANSS,CPRT,ODFL,CTSH,ZS,CRWD,DDOG,ON,ARM,SMCI,PLTR,SPOT,ROKU

#app.stocks.list=AAPL,MSFT,GOOGL,AMZN,NVDA,META,TSLA,AVGO,COST,PEP,CMCSA,ADBE,NFLX,AMD,INTC,TXN,AMGN,ISRG,AMAT,SBUX,INTU,VRTX,REGN,ADI,PYPL,MU,CSX,KLAC,SNPS,CDNS,MRVL,FTNT,NXPI,CTAS,PAYX,FAST,TEAM,ANSS,CPRT,ODFL,CTSH,ZS,CRWD,DDOG,ON,ARM,SMCI,PLTR,SPOT,ROKU

# Market Hours (EST)
app.market.open-hour=9
app.market.open-minute=30
app.market.close-hour=16
app.market.close-minute=0

